{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'../api/axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(){const[bookings,setBookings]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetch=async()=>{try{const res=await axios.get('/bookings/my');setBookings(res.data);}catch(err){console.error(err);}setLoading(false);};fetch();},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-20 text-blue-500 font-semibold\",children:\"Loading your trips...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-blue-50 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-center text-blue-800\",children:\"My Trips\"}),bookings.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-blue-700 text-lg mt-10\",children:\"You haven\\u2019t booked any trips yet.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:bookings.map(b=>{var _b$route$description;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg overflow-hidden hover:scale-105 transform transition duration-300\",children:[b.route.images&&b.route.images.length>0&&/*#__PURE__*/_jsx(\"img\",{src:b.route.images[0],alt:`${b.route.from} to ${b.route.to}`,className:\"w-full h-48 object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 space-y-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-blue-800\",children:[b.route.from,\" \\u2192 \",b.route.to]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700 text-sm\",children:[\"Date: \",new Date(b.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700 text-sm\",children:[\"Passengers: \",b.passengers]}),/*#__PURE__*/_jsxs(\"p\",{className:`text-sm font-medium ${b.status==='booked'?'text-green-600':'text-red-600'}`,children:[\"Status: \",b.status]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm mt-2\",children:[(_b$route$description=b.route.description)===null||_b$route$description===void 0?void 0:_b$route$description.slice(0,100),\"...\"]})]})]},b._id);})})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","bookings","setBookings","loading","setLoading","fetch","res","get","data","err","console","error","className","children","length","map","b","_b$route$description","route","images","src","alt","from","to","Date","date","toLocaleDateString","passengers","status","description","slice","_id"],"sources":["C:/Users/DELL/Downloads/hilltrip-planner/hilltrip-planner/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from '../api/axios'\n\nexport default function Dashboard() {\n  const [bookings, setBookings] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const res = await axios.get('/bookings/my')\n        setBookings(res.data)\n      } catch (err) {\n        console.error(err)\n      }\n      setLoading(false)\n    }\n    fetch()\n  }, [])\n\n  if (loading) \n    return <div className=\"text-center mt-20 text-blue-500 font-semibold\">Loading your trips...</div>\n\n  return (\n    <div className=\"min-h-screen bg-blue-50 p-6\">\n      <h2 className=\"text-3xl font-bold mb-6 text-center text-blue-800\">My Trips</h2>\n\n      {bookings.length === 0 && (\n        <div className=\"text-center text-blue-700 text-lg mt-10\">\n          You haven’t booked any trips yet.\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {bookings.map(b => (\n          <div \n            key={b._id} \n            className=\"bg-white rounded-xl shadow-lg overflow-hidden hover:scale-105 transform transition duration-300\"\n          >\n            {/* Optional Image */}\n            {b.route.images && b.route.images.length > 0 && (\n              <img \n                src={b.route.images[0]} \n                alt={`${b.route.from} to ${b.route.to}`} \n                className=\"w-full h-48 object-cover\"\n              />\n            )}\n\n            <div className=\"p-5 space-y-2\">\n              <h3 className=\"text-xl font-semibold text-blue-800\">{b.route.from} → {b.route.to}</h3>\n              <p className=\"text-blue-700 text-sm\">Date: {new Date(b.date).toLocaleDateString()}</p>\n              <p className=\"text-blue-700 text-sm\">Passengers: {b.passengers}</p>\n              <p className={`text-sm font-medium ${b.status === 'booked' ? 'text-green-600' : 'text-red-600'}`}>\n                Status: {b.status}\n              </p>\n\n              <p className=\"text-gray-600 text-sm mt-2\">{b.route.description?.slice(0, 100)}...</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}